(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{512:function(t,e,i){var n=i(645);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(22).default)("4f810bb9",n,!0,{sourceMap:!1})},513:function(t,e,i){var n=i(647);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,i(22).default)("6a98ea98",n,!0,{sourceMap:!1})},644:function(t,e,i){"use strict";i(512)},645:function(t,e,i){var n=i(21)((function(t){return t[1]}));n.push([t.i,".v-list-item{max-height:5px}",""]),n.locals={},t.exports=n},646:function(t,e,i){"use strict";i(513)},647:function(t,e,i){var n=i(21)((function(t){return t[1]}));n.push([t.i,"#globeComponentContainer{height:100%;width:100%}",""]),n.locals={},t.exports=n},658:function(t,e,i){"use strict";i.r(e);var n=i(659),a=i(449),o=i(514),r=i(472),s=i(655),c=i(451),u=i(199),h=i(129),l=i(87),d=i(654),p=i(656),f=i(657),g=i(268),v=(i(37),i(9),i(10),i(16),i(17),i(18)),y=i(35),C=i(2),m=(i(112),i(32),i(294),i(86),i(28),i(12),i(5),i(56),i(8),i(57),i(73)),w=i(648),D=i(649);function S(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?S(Object(i),!0).forEach((function(e){Object(C.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):S(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var x={data:function(){return{worldMapData:{land:void 0,countries:void 0},covidData:{countriesLatestConfirmed:void 0,global:void 0,display:{type:void 0,countryToCountMap:void 0,minCount:void 0,maxCount:void 0}},isInitialDataFetched:!1,baseUrl:void 0,canvas:void 0,context:void 0,equirectangularCanvas:void 0,equirectangularContext:void 0,colorKeyToCountryMap:{},isMounted:!1,dimensions:{screenWidth:void 0,screenHeight:void 0,canvasSquareSide:void 0,canvasMargin:50},scale:void 0,rotations:{yaw:0,pitch:-10,roll:0},colors:{landRed:"225",unavailableCountry:"#8F8D8D",selectedCountry:"#F2E4E4",water:"#5CA8BF",growthCurve:"#69B3A2"},autoRotationDegPerSec:5,isRotating:!1,drawLoop:void 0,lastDrawLoopCallTime:void 0,isBeingDrawn:!1,selectedCountry:void 0,lastPinchDistance:void 0,dragSensitivity:75,pinchZoomSensitivity:.08,isBeingDragged:!1,nextUniqueColorSeed:1,showSpecificCountryDataPrompt:!1,showSpecificCountryData:!1,requestedSpecificCountryName:void 0,isSpecificCountryDataGenerated:!1,specificCountryGrowthCurve:void 0,specificCountrySummary:void 0}},computed:b(b({},Object(m.c)({url:"urls/url"})),{},{width:{get:function(){return this.dimensions.canvasSquareSide}},height:{get:function(){return this.dimensions.canvasSquareSide}},radius:{get:function(){return this.dimensions.canvasSquareSide/2}},projection:{get:function(){return w.g().translate([this.width/2,this.height/2]).clipAngle(90).precision(.1)}},path:{get:function(){if(this.isMounted)return w.h(this.projection,this.context)}},equirectangularProjection:{get:function(){return w.f().translate([this.width/2,this.height/2]).scale(this.width/7)}},equirectangularPath:{get:function(){if(this.isMounted)return w.h(this.equirectangularProjection,this.equirectangularContext)}},autoRotationDegPerMilliSec:{get:function(){return this.autoRotationDegPerSec/1e3}},countryColorScale:{get:function(){return w.o().domain([this.covidData.display.maxCount,2e3,0]).range([0,190])}}}),watch:{isInitialDataFetched:function(){this.isInitialDataFetched&&this.setupEquirectangularColorKeys()},width:function(){this.isMounted&&(this.canvas.attr("width",this.width),this.equirectangularCanvas.attr("width",this.width),this.setupEquirectangularColorKeys())},height:function(){this.isMounted&&(this.canvas.attr("height",this.height),this.equirectangularCanvas.attr("height",this.height),this.setupEquirectangularColorKeys())},radius:function(){this.scale=this.radius},scale:function(){this.projection.scale(this.scale)},rotations:function(){this.projection.rotate([this.rotations.yaw,this.rotations.pitch,this.rotations.roll])},showSpecificCountryData:function(){this.showSpecificCountryData||w.q("#specificCountryGrowthCurveContainer").selectAll("*").remove()}},beforeMount:function(){window.addEventListener("resize",this.adjustDimensions)},beforeDestroy:function(){window.removeEventListener("resize",this.adjustDimensions)},mounted:function(){this.baseUrl=window.location.href,this.adjustDimensions(),this.canvas=w.q("#canvasContainer").append("canvas").attr("id","canvas").attr("width",this.width).attr("height",this.height),this.equirectangularCanvas=w.q("#canvasContainer").append("canvas").attr("width",this.width).attr("height",this.height),this.context=this.canvas.node().getContext("2d"),this.equirectangularContext=this.equirectangularCanvas.node().getContext("2d"),this.isMounted=!0,this.equirectangularCanvas.remove(),this.configureInitialProjection(),this.canvas.on("mousemove",this.onMouseMove).on("click",this.onMouseClick).on("touchstart",this.onTouchStart).on("touchend",this.onTouchEnd).call(w.c().on("start",this.onDragStart).on("drag",this.onDrag).on("end",this.onDragEnd)).call(w.t().on("zoom",this.onZoom)),this.isRotating=!0,this.lastDrawLoopCallTime=w.k(),this.drawLoop=w.s(this.draw),this.fetchInitialData()},methods:{fetchInitialData:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){var i,n,a,o,r,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isInitialDataFetched=!1,i=t.$axios.get(t.url.worldMapDataUrl),n=t.$axios.get("".concat(t.baseUrl).concat(t.url.covid.countriesConfirmedDataApiPath,"?onlyLatest=true")),a=t.$axios.get("".concat(t.baseUrl).concat(t.url.covid.globalDataApiPath)),e.next=7,Promise.all([i,n,a]);case 7:o=e.sent,r=Object(v.a)(o,3),s=r[0],c=r[1],u=r[2],t.worldMapData.land=D.a(s.data,s.data.objects.land),t.worldMapData.countries=D.a(s.data,s.data.objects.countries),t.covidData.countriesLatestConfirmed=c.data,t.covidData.global=u.data,t.generateDisplayData("confirmed",t.covidData.countriesLatestConfirmed),t.isInitialDataFetched=!0,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),t.isInitialDataFetched=!1;case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},generateDisplayData:function(t,e){var i=this;this.covidData.display.countryToCountMap={},e.forEach((function(t){i.covidData.display.countryToCountMap[t["country/region"]]=Number(t.data[0].count)})),this.covidData.display.minCount=Number(this.covidData.global[t].min.count),this.covidData.display.maxCount=Number(this.covidData.global[t].max.count)},generateSpecificCountryData:function(){var t=this;return Object(y.a)(regeneratorRuntime.mark((function e(){var i,n,a,o,r,s,c,u,h,l,d,p,f,g,y,C,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.showSpecificCountryDataPrompt=!1,t.showSpecificCountryData=!0,t.isSpecificCountryDataGenerated=!1,n=250-(i={top:20,bottom:20,left:60,right:20}).top-i.bottom,a=300-i.left-i.right,e.next=8,Promise.all([t.$axios.get("".concat(t.baseUrl).concat(t.url.covid.countriesConfirmedDataApiPath,"?country=").concat(t.requestedSpecificCountryName)),t.$axios.get("".concat(t.baseUrl).concat(t.url.covid.countrySummaryBaseDataApiPath,"/").concat(t.requestedSpecificCountryName))]);case 8:if(o=e.sent,r=Object(v.a)(o,2),s=r[0],c=r[1],0!==s.data.length&&0!==Object.keys(c).length){e.next=16;break}return t.specificCountrySummary={confirmed:"Unknown",deaths:"Unknown",recovered:"Unknown",mortalityRate:"Unknown",recoveryRate:"Unknown"},t.isSpecificCountryDataGenerated=!0,e.abrupt("return");case 16:u=s.data[0].data,h=c.data.data,t.specificCountrySummary=b({},h),l=w.e(u,(function(t){return w.r("%m/%d/%Y")(t.date)})),d=w.p().domain([l[0],l[0]]).range([0,a]),p=w.p().domain(l).range([0,a]),f=w.n().domain([0,w.j(u,(function(t){return Number(t.count)}))]).range([n,0]),t.specificCountryGrowthCurve=w.q("#specificCountryGrowthCurveContainer").append("svg").attr("width",a+i.left+i.right).attr("height",n+i.top+i.bottom).append("g").attr("transform","translate(".concat(i.left,",").concat(i.top,")")),g=t.specificCountryGrowthCurve.append("g").attr("id","specificCountryGrowhCurveXAxis").attr("transform","translate(".concat(0,",",n,")")).call(w.a(d).ticks(5)),t.specificCountryGrowthCurve.append("g").call(w.b(f)),y=t.specificCountryGrowthCurve.append("g").selectAll("dot").data(u).enter().append("circle").attr("cx",(function(t){return d(w.r("%m/%d/%Y")(t.date))})).attr("cy",(function(t){return f(t.count)})).attr("r",2).attr("fill",t.colors.growthCurve),t.isSpecificCountryDataGenerated=!0,g.transition().duration(2e3).call(w.a(p).ticks(5)),y.transition().delay((function(t,e){return 3*e})).duration(2e3).attr("cx",(function(t){return p(w.r("%m/%d/%Y")(t.date))})).attr("cy",(function(t){return f(t.count)})),C=t.specificCountryGrowthCurve.append("path").datum(u).attr("fill","none").attr("stroke",t.colors.growthCurve).attr("stroke-width",1.5).attr("d",w.i().x((function(t){return p(w.r("%m/%d/%Y")(t.date))})).y((function(t){return f(t.count)}))),m=C.node().getTotalLength(),C.attr("stroke-dasharray","".concat(m," ").concat(m)).attr("stroke-dashoffset",m).transition().duration(2e3).ease(w.d).attr("stroke-dashoffset",0);case 33:case"end":return e.stop()}}),e)})))()},adjustDimensions:function(){this.dimensions.screenWidth=document.documentElement.clientWidth,this.dimensions.screenHeight=document.documentElement.clientHeight,this.isMounted&&this.context.clearRect(0,0,this.width,this.height),this.dimensions.canvasSquareSide=Math.min(.95*this.dimensions.screenWidth-this.dimensions.canvasMargin,.7*this.dimensions.screenHeight-this.dimensions.canvasMargin)},getUniqueRGBColor:function(){var t=[];return this.nextUniqueColorSeed>16777214&&(this.nextUniqueColorSeed=1),t.push(255&this.nextUniqueColorSeed),t.push((65280&this.nextUniqueColorSeed)>>8),t.push((16711680&this.nextUniqueColorSeed)>>16),this.nextUniqueColorSeed+=5,"rgb("+t.join(",")+")"},setupEquirectangularColorKeys:function(){if(this.isMounted&&this.isInitialDataFetched)for(var t=this.worldMapData.countries.features.length;t--;){var e=this.worldMapData.countries.features[t],i=this.getUniqueRGBColor();this.colorKeyToCountryMap[i]=e,this.equirectangularContext.beginPath(),this.equirectangularPath(e),this.equirectangularContext.fillStyle=i,this.equirectangularContext.fill()}},getCountryFromEquirectangularImageData:function(t){var e=t.data,i="rgb("+e[0]+","+e[1]+","+e[2]+")";return this.colorKeyToCountryMap[i]},configureInitialProjection:function(){this.projection.scale(this.scale),this.projection.rotate([this.rotations.yaw,this.rotations.pitch,this.rotations.roll])},selectCountryFromPosition:function(t){var e=this.projection.invert(t),i=this.equirectangularProjection(e);if(i[0]>-1){var n=this.equirectangularContext.getImageData(i[0],i[1],1,1),a=this.getCountryFromEquirectangularImageData(n);if(void 0===a)this.selectedCountry=void 0;else if(void 0===this.selectedCountry||this.selectedCountry.id!==a.id){this.selectedCountry=a;var o=this.selectedCountry.properties.name.toLowerCase(),r=this.covidData.display.countryToCountMap[o];void 0!==r&&(this.selectedCountry.properties.count=r)}}else this.selectedCountry=void 0},rotateFromDragEvent:function(t){var e=this.projection.rotate(),i=this.dragSensitivity/this.projection.scale();this.rotations={yaw:e[0]+t.dx*i,pitch:e[1]-t.dy*i,roll:this.rotations.roll}},getDistanceBetweenTwoPoints:function(t){return Math.sqrt(Math.pow(t[0][0]-t[1][0],2)+Math.pow(t[0][1]-t[1][1],2))},scaleFromPinchTouches:function(t){if(this.lastPinchDistance){var e=this.getDistanceBetweenTwoPoints(t);if(e===this.lastPinchDistance)return;e>this.lastPinchDistance?this.scale=Math.min(1e4,this.scale*(1+this.pinchZoomSensitivity)):this.scale=Math.max(100,this.scale*(1-this.pinchZoomSensitivity))}this.lastPinchDistance=this.getDistanceBetweenTwoPoints(t)},onMouseMove:function(t){var e=w.l(t);this.selectCountryFromPosition(e)},onMouseClick:function(){void 0!==this.selectedCountry&&(this.showSpecificCountryDataPrompt=!0,this.requestedSpecificCountryName=this.selectedCountry.properties.name)},onZoom:function(t){this.scale=this.radius*t.transform.k},onDragStart:function(t){var e=w.m(t);e.length<2?(this.dragStartTime=w.k(),this.isBeingDragged=!0,this.isRotating=!this.isRotating):2===e.length&&(this.lastPinchDistance=this.getDistanceBetweenTwoPoints(e))},onDrag:function(t){var e=w.m(t);e.length<2?this.rotateFromDragEvent(t):2===e.length&&this.scaleFromPinchTouches(e)},onDragEnd:function(){this.isBeingDragged&&(this.isBeingDragged=!1,this.isRotating=!this.isRotating)},render:function(){var t=this;this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=1.5,this.context.fillStyle=this.colors.water,this.context.beginPath(),this.path({type:"Sphere"}),this.context.fill(),this.context.stroke(),this.context.lineWidth=.3,this.worldMapData.countries.features.forEach((function(e){var i,n=e.properties.name.toLowerCase(),a=t.covidData.display.countryToCountMap[n];if(void 0!==a){var o=t.countryColorScale(a);i="rgb(".concat(t.colors.landRed,",").concat(o,",").concat(o,")")}else i=t.colors.unavailableCountry;t.context.fillStyle=i,t.context.beginPath(),t.path(e),t.context.fill(),t.context.stroke()})),void 0!==this.selectedCountry&&(this.context.fillStyle=this.colors.selectedCountry,this.context.beginPath(),this.path(this.selectedCountry),this.context.fill())},draw:function(t){if(!this.isBeingDrawn&&this.isMounted&&this.isInitialDataFetched){this.isBeingDrawn=!0;var e=w.k(),i=e-this.lastDrawLoopCallTime;i<t&&(this.isRotating&&(this.rotations={yaw:this.rotations.yaw+=i*this.autoRotationDegPerMilliSec,pitch:this.rotations.pitch,roll:this.rotations.roll}),this.render()),this.lastDrawLoopCallTime=e,this.isBeingDrawn=!1}}}},j=(i(644),i(55)),_={components:{globe:Object(j.a)(x,(function(){var t=this,e=t._self._c;return e(c.a,[e(d.a,{attrs:{align:"center",justify:"center"}},[e(s.a,{attrs:{align:"center"}},[t.isInitialDataFetched?t._e():e("div",{staticClass:"subtitle-1"},[e("span",[t._v(" Fetching Data ")]),t._v(" "),e("span",{staticClass:"ml-1"},[e("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)])])],1),t._v(" "),e(d.a,{attrs:{align:"center",justify:"center"}},[e(s.a,{attrs:{id:"canvasContainer",align:"center"}})],1),t._v(" "),e(d.a,{attrs:{align:"center",justify:"center"}},[e(s.a,{attrs:{align:"center"}},[void 0!==t.selectedCountry?e("div",[e("span",[t._v(t._s(t.selectedCountry.properties.name))]),t._v(" "),void 0!==t.selectedCountry.properties.count?e("span",[t._v(": "+t._s(t.getStringRepr(t.selectedCountry.properties.count)))]):t._e()]):t._e()])],1),t._v(" "),e(p.a,{attrs:{color:"white darker-2",alight:"center",justify:"center"},scopedSlots:t._u([{key:"action",fn:function(i){var n=i.attrs;return[e(a.a,t._b({staticClass:"subtitle-2",attrs:{text:""},on:{click:function(e){e.preventDefault(),t.showSpecificCountryDataPrompt=!1}}},"v-btn",n,!1),[e("span",{staticStyle:{color:"black"}},[e("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)])]}}]),model:{value:t.showSpecificCountryDataPrompt,callback:function(e){t.showSpecificCountryDataPrompt=e},expression:"showSpecificCountryDataPrompt"}},[e(a.a,{staticClass:"subtitle-2",attrs:{color:"red",text:""},on:{click:function(e){return e.preventDefault(),t.generateSpecificCountryData()}}},[e("span",[e("strong",[t._v(" "+t._s(t.requestedSpecificCountryName)+" ")]),t._v(": Show Details ")])])],1),t._v(" "),e(n.a,{attrs:{scrollable:"",inset:"","max-width":"800"},model:{value:t.showSpecificCountryData,callback:function(e){t.showSpecificCountryData=e},expression:"showSpecificCountryData"}},[e(o.a,{staticClass:"command"},[e(r.b,{staticClass:"grey lighten-2 justify-center"},[void 0!==t.requestedSpecificCountryName?e("span",{staticClass:"subtitle-1"},[e("strong",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.requestedSpecificCountryName.toUpperCase())+" ")])]):e("span",{staticClass:"subtitle-1"},[e("strong",{staticStyle:{color:"black"}},[t._v(" Information ")])])]),t._v(" "),e(r.a,{staticClass:"mt-5",attrs:{justify:"center"}},[e(c.a,[t.isSpecificCountryDataGenerated?t._e():e(d.a,{attrs:{align:"center",justify:"center"}},[e(s.a,{staticClass:"subtitle-1",attrs:{align:"center",justify:"center"}},[e("span",[t._v(" Generating Data ")]),t._v(" "),e("span",{staticClass:"ml-1"},[e("font-awesome-icon",{attrs:{icon:["fas","sun"],spin:""}})],1)])],1),t._v(" "),e(d.a,{directives:[{def:g.a,name:"touch",rawName:"v-touch",value:{down:function(){return t.showSpecificCountryData=!1}},expression:"{ down: () => showSpecificCountryData = false }"}],attrs:{align:"center",justify:"center"}},[t.isSpecificCountryDataGenerated&&void 0!==t.specificCountrySummary?e(s.a,{attrs:{cols:"12",sm:"6"}},[e(o.a,{attrs:{outlined:""}},[e(u.a,{attrs:{dense:""}},[e(f.a,[t._v(" SUMMARY ")]),t._v(" "),e(h.a,[e(l.a,[t._v(" Confirmed: "+t._s(t.getStringRepr(t.specificCountrySummary.confirmed))+" ")])],1),t._v(" "),e(h.a,[e(l.a,[t._v(" Deaths: "+t._s(t.getStringRepr(t.specificCountrySummary.deaths))+" ")])],1),t._v(" "),e(h.a,[e(l.a,[t._v(" Recovered: N/A ")])],1),t._v(" "),e(h.a,[e(l.a,[t._v(" Mortality Rate: "+t._s(t.specificCountrySummary.mortalityRate)+" ")])],1),t._v(" "),e(h.a,[e(l.a,[t._v(" Recovery Rate: N/A ")])],1)],1)],1)],1):t._e(),t._v(" "),e(s.a,{attrs:{id:"specificCountryGrowthCurveContainer",cols:"12",sm:"6",align:"center",justify:"center"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null).exports},data:function(){return{title:"Covid Athenaeum"}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:"Learn about COVID-19"}]}}},q=(i(646),Object(j.a)(_,(function(){var t=this._self._c;return t("div",[t("globe")],1)}),[],!1,null,null,null));e.default=q.exports}}]);