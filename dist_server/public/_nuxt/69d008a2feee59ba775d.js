(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{324:function(t,e,i){var n=i(405);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,i(12).default)("510ec422",n,!0,{sourceMap:!1})},326:function(t,e,i){var n=i(419);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,i(12).default)("61d59f78",n,!0,{sourceMap:!1})},404:function(t,e,i){"use strict";var n=i(324);i.n(n).a},405:function(t,e,i){(e=i(11)(!1)).push([t.i,".v-list-item{max-height:5px}",""]),t.exports=e},418:function(t,e,i){"use strict";var n=i(326);i.n(n).a},419:function(t,e,i){(e=i(11)(!1)).push([t.i,"#globeComponentContainer{height:100%;width:100%}",""]),t.exports=e},428:function(t,e,i){"use strict";i.r(e),i(10),i(6),i(8),i(27),i(402),i(20),i(5),i(4),i(45);var n=i(18),a=(i(74),i(26)),o=i(2),r=i(66),s=i(420),c=i(421);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(o.a)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var h={data:function(){return{worldMapData:{land:void 0,countries:void 0},covidData:{countriesLatestConfirmed:void 0,global:void 0,display:{type:void 0,countryToCountMap:void 0,minCount:void 0,maxCount:void 0}},isInitialDataFetched:!1,canvas:void 0,context:void 0,equirectangularCanvas:void 0,equirectangularContext:void 0,colorKeyToCountryMap:{},isMounted:!1,dimensions:{screenWidth:void 0,screenHeight:void 0,canvasSquareSide:void 0,canvasMargin:50},scale:void 0,rotations:{yaw:0,pitch:-10,roll:0},colors:{landRed:"225",unavailableCountry:"#8F8D8D",selectedCountry:"#F2E4E4",water:"#5CA8BF",growthCurve:"#69B3A2"},autoRotationDegPerSec:5,isRotating:!1,drawLoop:void 0,lastDrawLoopCallTime:void 0,isBeingDrawn:!1,selectedCountry:void 0,lastPinchDistance:void 0,dragSensitivity:75,pinchZoomSensitivity:.08,dragStartTime:void 0,isBeingDragged:!1,nextUniqueColorSeed:1,showSpecificCountryData:!1,isSpecificCountryDataGenerated:!1,specificCountryGrowthCurve:void 0,specificCountrySummary:void 0}},computed:l({},Object(r.c)({url:"urls/url"}),{width:{get:function(){return this.dimensions.canvasSquareSide}},height:{get:function(){return this.dimensions.canvasSquareSide}},radius:{get:function(){return this.dimensions.canvasSquareSide/2}},projection:{get:function(){return s.h().translate([this.width/2,this.height/2]).clipAngle(90).precision(.1)}},graticule:{get:function(){return s.g()}},path:{get:function(){if(this.isMounted)return s.i(this.projection,this.context)}},equirectangularProjection:{get:function(){return s.f().translate([this.width/2,this.height/2]).scale(this.width/7)}},equirectangularPath:{get:function(){if(this.isMounted)return s.i(this.equirectangularProjection,this.equirectangularContext)}},autoRotationDegPerMilliSec:{get:function(){return this.autoRotationDegPerSec/1e3}},countryColorScale:{get:function(){return s.o().domain([this.covidData.display.maxCount,2e3,0]).range([0,190])}}}),watch:{isInitialDataFetched:function(){this.isInitialDataFetched&&this.setupEquirectangularColorKeys()},width:function(){this.isMounted&&(this.canvas.attr("width",this.width),this.equirectangularCanvas.attr("width",this.width),this.setupEquirectangularColorKeys())},height:function(){this.isMounted&&(this.canvas.attr("height",this.height),this.equirectangularCanvas.attr("height",this.height),this.setupEquirectangularColorKeys())},radius:function(){this.scale=this.radius},scale:function(){this.projection.scale(this.scale)},rotations:function(){this.projection.rotate([this.rotations.yaw,this.rotations.pitch,this.rotations.roll])},showSpecificCountryData:function(){this.showSpecificCountryData||s.q("#specificCountryGrowthCurveContainer").selectAll("*").remove()}},beforeMount:function(){window.addEventListener("resize",this.adjustDimensions)},beforeDestroy:function(){window.removeEventListener("resize",this.adjustDimensions)},mounted:function(){this.adjustDimensions(),this.canvas=s.q("#canvasContainer").append("canvas").attr("id","canvas").attr("width",this.width).attr("height",this.height),this.equirectangularCanvas=s.q("#canvasContainer").append("canvas").attr("width",this.width).attr("height",this.height),this.context=this.canvas.node().getContext("2d"),this.equirectangularContext=this.equirectangularCanvas.node().getContext("2d"),this.isMounted=!0,this.equirectangularCanvas.remove(),this.configureInitialProjection(),this.canvas.on("mousemove",this.onMouseMove).call(s.c().on("start",this.onDragStart).on("drag",this.onDrag).on("end",this.onDragEnd)).call(s.u().on("zoom",this.onZoom)),this.isRotating=!0,this.lastDrawLoopCallTime=s.m(),this.drawLoop=s.s(this.draw),this.fetchInitialData()},methods:{fetchInitialData:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var i,a,o,r,s,u,l,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isInitialDataFetched=!1,i=t.$axios.get(t.url.worldMapData),a=t.$axios.get("".concat(t.url.covidData.countriesConfirmed,"?onlyLatest=true")),o=t.$axios.get(t.url.covidData.global),e.next=7,Promise.all([i,a,o]);case 7:r=e.sent,s=Object(n.a)(r,3),u=s[0],l=s[1],h=s[2],t.worldMapData.land=c.a(u.data,u.data.objects.land),t.worldMapData.countries=c.a(u.data,u.data.objects.countries),t.covidData.countriesLatestConfirmed=l.data,t.covidData.global=h.data,t.generateDisplayData("confirmed",t.covidData.countriesLatestConfirmed),t.isInitialDataFetched=!0,e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),t.isInitialDataFetched=!1;case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},generateDisplayData:function(t,e){var i=this;this.covidData.display.countryToCountMap={},e.forEach((function(t){i.covidData.display.countryToCountMap[t["country/region"]]=Number(t.data[0].count)})),this.covidData.display.minCount=Number(this.covidData.global[t].min.count),this.covidData.display.maxCount=Number(this.covidData.global[t].max.count)},adjustDimensions:function(){this.dimensions.screenWidth=document.documentElement.clientWidth,this.dimensions.screenHeight=document.documentElement.clientHeight,this.isMounted&&this.context.clearRect(0,0,this.width,this.height),this.dimensions.canvasSquareSide=Math.min(.95*this.dimensions.screenWidth-this.dimensions.canvasMargin,.7*this.dimensions.screenHeight-this.dimensions.canvasMargin)},getUniqueRGBColor:function(){var t=[];return this.nextUniqueColorSeed>16777214&&(this.nextUniqueColorSeed=1),t.push(255&this.nextUniqueColorSeed),t.push((65280&this.nextUniqueColorSeed)>>8),t.push((16711680&this.nextUniqueColorSeed)>>16),this.nextUniqueColorSeed+=5,"rgb("+t.join(",")+")"},setupEquirectangularColorKeys:function(){if(this.isMounted&&this.isInitialDataFetched)for(var t=this.worldMapData.countries.features.length;t--;){var e=this.worldMapData.countries.features[t],i=this.getUniqueRGBColor();this.colorKeyToCountryMap[i]=e,this.equirectangularContext.beginPath(),this.equirectangularPath(e),this.equirectangularContext.fillStyle=i,this.equirectangularContext.fill()}},getCountryFromEquirectangularImageData:function(t){var e=t.data,i="rgb("+e[0]+","+e[1]+","+e[2]+")";return this.colorKeyToCountryMap[i]},configureInitialProjection:function(){this.projection.scale(this.scale),this.projection.rotate([this.rotations.yaw,this.rotations.pitch,this.rotations.roll])},selectCountryFromPosition:function(t){var e=this.projection.invert(t),i=this.equirectangularProjection(e);if(i[0]>-1){var n=this.equirectangularContext.getImageData(i[0],i[1],1,1),a=this.getCountryFromEquirectangularImageData(n);if(void 0===a)this.selectedCountry=void 0;else if(void 0===this.selectedCountry||this.selectedCountry.id!==a.id){this.selectedCountry=a;var o=this.selectedCountry.properties.name.toLowerCase(),r=this.covidData.display.countryToCountMap[o];void 0!==r&&(this.selectedCountry.properties.count=r)}}},generateSpecificCountryData:function(){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){var i,a,o,r,c,u,h,d,v,p,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isSpecificCountryDataGenerated=!1,a=250-(i={top:20,bottom:20,left:60,right:20}).top-i.bottom,o=300-i.left-i.right,e.next=6,Promise.all([t.$axios.get("".concat(t.url.covidData.countriesConfirmed,"?country=").concat(t.selectedCountry.properties.name)),t.$axios.get("".concat(t.url.covidData.countrySummaryBase,"/").concat(t.selectedCountry.properties.name))]);case 6:r=e.sent,c=Object(n.a)(r,2),u=c[0],h=c[1],d=u.data[0].data,v=h.data.data,t.specificCountrySummary=l({},v),console.log(t.specificCountrySummary),p=s.p().domain(s.e(d,(function(t){return s.r("%m/%d/%Y")(t.date)}))).range([0,o]),g=s.n().domain([0,s.k(d,(function(t){return Number(t.count)}))]).range([a,0]),t.specificCountryGrowthCurve=s.q("#specificCountryGrowthCurveContainer").append("svg").attr("width",o+i.left+i.right).attr("height",a+i.top+i.bottom).append("g").attr("transform","translate(".concat(i.left,",").concat(i.top,")")),t.specificCountryGrowthCurve.append("g").attr("transform","translate(".concat(0,",",a,")")).call(s.a(p).ticks(5)),t.specificCountryGrowthCurve.append("g").call(s.b(g)),t.specificCountryGrowthCurve.append("path").datum(d).attr("fill","none").attr("stroke",t.colors.growthCurve).attr("stroke-width",1.5).attr("d",s.j().x((function(t){return p(s.r("%m/%d/%Y")(t.date))})).y((function(t){return g(t.count)}))),t.specificCountryGrowthCurve.append("g").selectAll("dot").data(d).enter().append("circle").attr("cx",(function(t){return p(s.r("%m/%d/%Y")(t.date))})).attr("cy",(function(t){return g(t.count)})).attr("r",2).attr("fill",t.colors.growthCurve),t.isSpecificCountryDataGenerated=!0;case 22:case"end":return e.stop()}}),e)})))()},rotateFromDragEvent:function(t){var e=this.projection.rotate(),i=this.dragSensitivity/this.projection.scale();this.rotations={yaw:e[0]+t.dx*i,pitch:e[1]-t.dy*i,roll:this.rotations.roll}},getDistanceBetweenTwoPoints:function(t){return Math.sqrt(Math.pow(t[0][0]-t[1][0],2)+Math.pow(t[0][1]-t[1][1],2))},scaleFromPinchTouches:function(t){if(this.lastPinchDistance){var e=this.getDistanceBetweenTwoPoints(t);if(e===this.lastPinchDistance)return;e>this.lastPinchDistance?this.scale=Math.min(1e4,this.scale*(1+this.pinchZoomSensitivity)):this.scale=Math.max(100,this.scale*(1-this.pinchZoomSensitivity))}this.lastPinchDistance=this.getDistanceBetweenTwoPoints(t)},onMouseMove:function(){var t=s.l(s.d.target);this.selectCountryFromPosition(t)},onZoom:function(){this.scale=this.radius*s.d.transform.k},onDragStart:function(){var t=s.t(s.d.sourceEvent.target);t.length<2?(this.dragStartTime=s.m(),this.isBeingDragged=!0,this.isRotating=!this.isRotating):2===t.length&&(this.lastPinchDistance=this.getDistanceBetweenTwoPoints(t))},onDrag:function(){var t=s.t(s.d.sourceEvent.target);t.length<2?this.rotateFromDragEvent(s.d):2===t.length&&this.scaleFromPinchTouches(t)},onDragEnd:function(){this.isBeingDragged&&(this.isBeingDragged=!1,this.isRotating=!this.isRotating);var t=s.m()-this.dragStartTime;this.dragStartTime=void 0,t<250&&void 0!==this.selectedCountry&&(this.showSpecificCountryData=!0,this.generateSpecificCountryData())},render:function(){var t=this;this.context.clearRect(0,0,this.width,this.height),this.context.lineWidth=1.5,this.context.fillStyle=this.colors.water,this.context.beginPath(),this.path({type:"Sphere"}),this.context.fill(),this.context.stroke(),this.context.lineWidth=.3,this.worldMapData.countries.features.forEach((function(e){var i,n=e.properties.name.toLowerCase(),a=t.covidData.display.countryToCountMap[n];if(void 0!==a){var o=t.countryColorScale(a);i="rgb(".concat(t.colors.landRed,",").concat(o,",").concat(o,")")}else i=t.colors.unavailableCountry;t.context.fillStyle=i,t.context.beginPath(),t.path(e),t.context.fill(),t.context.stroke()})),void 0!==this.selectedCountry&&(this.context.fillStyle=this.colors.selectedCountry,this.context.beginPath(),this.path(this.selectedCountry),this.context.fill())},draw:function(t){if(!this.isBeingDrawn&&this.isMounted&&this.isInitialDataFetched){this.isBeingDrawn=!0;var e=s.m(),i=e-this.lastDrawLoopCallTime;i<t&&(this.isRotating&&(this.rotations={yaw:this.rotations.yaw+=i*this.autoRotationDegPerMilliSec,pitch:this.rotations.pitch,roll:this.rotations.roll}),this.render()),this.lastDrawLoopCallTime=e,this.isBeingDrawn=!1}}}},d=(i(404),i(37)),v=i(43),p=i.n(v),g=i(429),f=i(346),m=i(325),C=i(425),y=i(314),w=i(126),D=i(84),S=i(59),b=i(426),x=i(427),j=Object(d.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",[i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{align:"center"}},[t.isInitialDataFetched?t._e():i("div",[t._v("\n        Fetching Data\n        "),i("span",{staticClass:"ml-1 subtitle-1"},[i("font-awesome-icon",{attrs:{icon:["fas","spinner"],spin:""}})],1)])])],1),t._v(" "),i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{id:"canvasContainer",align:"center"}})],1),t._v(" "),i("v-row",{attrs:{align:"center",justify:"center"}},[i("v-col",{attrs:{align:"center"}},[void 0!==t.selectedCountry?i("div",[i("span",[t._v(t._s(t.selectedCountry.properties.name))]),t._v(" "),void 0!==t.selectedCountry.properties.count?i("span",[t._v(": "+t._s(t.selectedCountry.properties.count))]):t._e()]):t._e()])],1),t._v(" "),i("div",{staticClass:"mr-5",attrs:{align:"center",justify:"center"}},[i("v-bottom-sheet",{attrs:{scrollable:"",inset:"","max-width":"800"},model:{value:t.showSpecificCountryData,callback:function(e){t.showSpecificCountryData=e},expression:"showSpecificCountryData"}},[i("v-card",{staticClass:"command"},[i("v-card-title",{staticClass:"grey lighten-2 justify-center"},[void 0!==t.selectedCountry?i("span",{staticClass:"subtitle-1"},[i("strong",{staticStyle:{color:"black"}},[t._v(" "+t._s(t.selectedCountry.properties.name.toUpperCase())+" ")])]):i("span",{staticClass:"subtitle-1"},[i("strong",{staticStyle:{color:"black"}},[t._v(" Information ")])])]),t._v(" "),i("v-card-text",{staticClass:"mt-5",attrs:{justify:"center"}},[t.isSpecificCountryDataGenerated?t._e():i("div",[t._v("\n            Generating Data\n            "),i("span",{staticClass:"ml-1 subtitle-1"},[i("font-awesome-icon",{attrs:{icon:["fas","sun"],spin:""}})],1)]),t._v(" "),i("v-container",[i("v-row",{attrs:{align:"center",justify:"center"}},[t.isSpecificCountryDataGenerated&&void 0!==t.specificCountrySummary?i("v-col",[i("v-card",{attrs:{outlined:""}},[i("v-list",{attrs:{dense:""}},[i("v-subheader",[t._v(" SUMMARY ")]),t._v(" "),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" Confirmed: "+t._s(t.specificCountrySummary.confirmed)+" ")])],1)],1),t._v(" "),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" Deaths: "+t._s(t.specificCountrySummary.deaths)+" ")])],1)],1),t._v(" "),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" Recovered: "+t._s(t.specificCountrySummary.recovered)+" ")])],1)],1),t._v(" "),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" Mortality Rate: "+t._s(t.specificCountrySummary.mortalityRate)+" ")])],1)],1),t._v(" "),i("v-list-item",[i("v-list-item-content",[i("v-list-item-title",[t._v(" Recovery Rate: "+t._s(t.specificCountrySummary.recoveryRate)+" ")])],1)],1)],1)],1)],1):t._e(),t._v(" "),i("v-col",{attrs:{id:"specificCountryGrowthCurveContainer",align:"center",justify:"center"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null),M=j.exports;p()(j,{VBottomSheet:g.a,VCard:f.a,VCardText:m.a,VCardTitle:m.b,VCol:C.a,VContainer:y.a,VList:w.a,VListItem:D.a,VListItemContent:S.a,VListItemTitle:S.b,VRow:b.a,VSubheader:x.a});var q={components:{Globe:M},data:function(){return{title:"Covid Athenaeum"}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:"Learn about COVID-19"}]}}},_=(i(418),Object(d.a)(q,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Globe")],1)}),[],!1,null,null,null));e.default=_.exports}}]);